type Query {
	clients: [ Client ]
	client(id: ID!): Client
	#EL ticket_id es opcional. Si no se provee, se obtiene para todos los clientes
	devices(cliente_id: ID): [ Device ]
	organizations: [ Organization ]
	organization(id: ID!): Organization

	agents: [ Agent ]
	agent(id: ID!): Agent
	groups: [ Group ]
	group(id: ID): Group
	suppliers: [ Supplier ]
	supplier(id: ID!): Supplier

	ticket(id: ID!): Ticket
	tickets: [ Ticket ]
	#EL ticket_id es opcional. Si no se provee, se obtiene para todos los tickets
	activities(ticket_id: ID, last: Int): [ Activity ]
	#EL ticket_id es opcional. Si no se provee, se obtiene para todos los tickets
	interventions(ticket_id: ID, last: Int): [ Intervention ]

	solutions: [ Category ]
	solution(id: ID!): Category
	article(id: ID!): Article

	notifications(last: Int): [ Notification ]

	discussion(ticket_id: ID!): Discussion

	businessHours: BusinessHours
	SLAPolicies: [ SLAPolicy ]

	indicators: Indicators
}

type Mutation {
	createClient(client: ClientInput): Client
	updateClient(client: ClientInput): Client
	createDevice(client_id: ID!): Device
	createOrganization(organization: OrganizationInput): Organization
	updateOrganization(organization: OrganizationInput): Organization

	createAgent(agent: AgentInput): Agent
	updateAgent(agent: AgentInput): Agent
	createGroup(group: GroupInput): Group
	updateGroup(group: GroupInput): Group
	disolveGroup(group_id: ID): String
	createSupplier(supplier: SupplierInput): Supplier
	updateSupplier(supplier: SupplierInput): Supplier

	createTicket(ticket: TicketInput): Ticket
	addIntervention(ticket_id: ID): Intervention
	updateTicket(ticket: TicketInput): Ticket

	createCategory(category: CategoryInput): Category
	updateCategory(category: CategoryInput): Category
	addArticle(article: ArticleInput): Article
	updateArticle(article: ArticleInput): Article

	addAgentsToDiscussion(agents_id: [ ID ], ticket_id: ID): [ Agent ]

	updateBusinessHours(business_hours: BusinessHoursInput): BusinessHours
	createSLAPolicy(slapolicy: SlapolicyInput): SLAPolicy
	updateSLAPolicy(slapolicy: SlapolicyInput): SLAPolicy
}

type Subscription {
	notifications: Notification
	new_discussion: Discussion
	discussion_message(ticket_id: ID!): Message
	activities(ticket_id: ID): Activity
	interventions(ticket_id: ID): Intervention
}

schema {
	query: Query
	mutation: Mutation
	subscription: Subscription
}